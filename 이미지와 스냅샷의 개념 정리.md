# 이미지와  스냅샷의 개념 정리

- **스냅샷 (Snapshot) 이란?**

‘스냅샷’은 클라우드 서버(VM) disk volume들의 현재 상태를 저장해 두고 사용자가 원하면 언제든지 스냅샷을 저장해 둔 시점 상태로 돌아갈 수 있도록 해 주는 서비스이며 또한, 생성된 스냅샷을 활용해 서버이미지 및 디스크 볼륨 생성 서비스도 가능하다.

![Untitled](https://user-images.githubusercontent.com/84123877/209961965-aca3a490-3432-443d-b31a-adde44ef883a.png)


- **이미지 (Image) 란?**

‘이미지’ 는 스냅샷을 템플릿화 한 것으로, 사용자는 이를 활용하여 스냅샷이 생성된 시점과 동일한 상태의 새로운 클라우드 서버 (VM) 을 만들 수 있다. 또한 ‘이미지’는 공개 권한 설정을 통하여 타인에게 공개도 가능하며, 멀티 존 (zone) 환경에서 타 존 (zone) 으로의 이미지 복사 기능도 제공된다.

- **볼륨 (Volume) 생성이란?**

‘볼륨 생성’ 은 스냅샷을 활용하여 새로운 디스크 볼륨을 생성하고 이를 임의의 클라우드 서버 (VM) 에 attach/deatch 하여 사용 가능토록 제공해 주는 서비스이다.

<aside>
💡 즉, 스냅샷이 각각의 볼륨을 백업하는 개념이라면, AMI를 생성한다는것은 EC2에 연결된 모든 볼륨 정보를 한번에 백업한다는 개념이다.

</aside>

---

## 스냅샷과 백업의 차이점

기업의 데이터 보호는 회사의 존폐를 가릴 만큼 중요하다. 데이터의 가용성과 무결성을 유지하지 못한다면 고객과의 신뢰를 저버릴 뿐만 아니라, 그로 인한 기업 가치 하락을 경험할 수 있기 때문이다.

데이터 보호와 관련해 가장 많이 언급되는 ‘스냅샷’과 ‘백업’ 의 차이점에 대해 학습하겠다.

### 스냅샷과 백업의 차이점

- **원본 데이터 종속성**

스냅샷과 백업의 가장 큰 차이점은 바로 ‘원본 데이터 종속성’ 이다. **스냅샷은 원본의 완벽한 복사본이 아니기 때문에** 원본 데이터가 **저장된 공간에 오류가 발생할 경우 복구가 불가능**하다. 

반면, **백업의 경우 데이터 전체를 완전한 형태의 사본으로 복제**해 저장하기 때문에 원본 데이터에 영구적인 손상이 가해져도 백업된 시점의 **데이터 전체를 완벽하게 복구**할 수 있다.

- **하드웨어 벤더 종속성**

스냅샷의 경우 원본 데이터가 저장되는 스토리지 내에 저장된다. 따라서 **스토리지 하드웨어 밴더를 변경**하는 경우 **이전 스토리지에 있는 스냅샷을 활용할 수 없게 된다.**

반면, **백업의 경우 별도의 스토리지에 저장**되어 보관되기 때문에 하드웨어를 변경하게 되어도 백업 데이터를 활용할 수 있어 **벤더 종속성으로부터 자유롭다**.

- **작업에 따른 부하 및 소요 시간**

**스냅샷의 경우 전체 데이터를 복제하지 않기 때문에** 스냅샷 생성 및 **데이터 복원에 소요되는 시간이 획기적으로 단축**된다. 또한 수정이 필요한 부분의 원본 데이터만을 입력해두기 때문에 전체를 복제하는 백업보다 성능상의 오버헤드를 줄일 수 있다. 빈번한 업데이트를 진행하거나 데이터 수정이 잦은 경우 스냅샷을 활용하는 것이 적합하다.

스토리지 스냅샷과 백업은 각각의 단점을 보완해주는 역할을 한다. 전문가들은 어느 한 가지 방법에만 의존하지 말고 스냅샷과 백업을 함께 활용해 백업 주기와 복구 소요 시간을 수 분 단위로 짧게 유지하는 것이 데이터 보호에 가장 바람직한 방법이라고 한다.

---
